# 3-python-workflow-package-issue
* https://github.com/hychan48/google-foobar-2023-q4/issues/3
* https://github.com/hychan48/google-foobar-2023-q4/actions/runs/6759497549/job/18372206445?pr=4
  * need to run this locally to debug it


```powershell
# https://hub.docker.com/_/python
docker pull python:3.11-bookworm

# on project root
write-host ${PWD} # confirm it is the project root

# run docker with mount
docker run -it --rm --name python-3.11-bookworm -v ${PWD}:/usr/src/myapp -w /usr/src/myapp python:3.11-bookworm bash
which python
```
```bash
# from the yaml generated by github
python -m pip install --upgrade pip
python -m pip install flake8 pytest
if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics

pytest levels/q1/tests/solutions_test.py

ls '/usr/src/myapp/levels/q1/tests/solutions_test.py'
cat '/usr/src/myapp/levels/q1/tests/solutions_test.py'
# check volume later
docker volume ls
```


# conftest.py
* either put it in the same folder as the test file
* worked when i put it in the root
```py
import sys
from pathlib import Path

# Calculate the directory of your package and add it to sys.path
repo_dir = Path(__file__).parent.parent  # Adjust depending on `conftest.py` location
sys.path.insert(0, str(repo_dir))

```